import 'package:flutter/material.dart';
import 'package:lottie/lottie.dart';

// animations from: https://googlefonts.github.io/noto-emoji-animation/
// from https://github.com/eitanliu/emoji_regex/tree/master

RegExp emojiRegex() => RegExp(
    r'[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)');

bool isEmoji(String character) {
  final matches = emojiRegex().allMatches(character);
  if (matches.length == 1) {
    final match = matches.first;
    return match.start == 0 && match.end == character.length;
  }
  return false;
}

class EmojiAnimation extends StatelessWidget {
  final String emoji;
  final bool repeat;
  static final Map<String, String> animatedIcons = {
    "â¤": "red_heart.json",
    "ðŸ˜‚": "joy.json",
    "ðŸ”¥": "fire.json",
    "ðŸ’ª": "muscle.json",
    "ðŸ˜­": "loudly-crying.json",
    "ðŸ¤¯": "mind-blown.json",
    "â¤ï¸â€ðŸ”¥": "red_heart_fire.json",
    "ðŸ˜€": "smile.json",
    "ðŸ˜ƒ": "smile-with-big-eyes.json",
    "ðŸ˜„": "grin.json",
    "ðŸ˜": "grinning.json",
    "ðŸ˜†": "laughing.json",
    "ðŸ˜…": "grin-sweat.json",
    "ðŸ¤£": "rofl.json",
    "ðŸ˜‰": "wink.json",
    "ðŸ˜—": "kissing.json",
    "ðŸ˜™": "kissing-smiling-eyes.json",
    "ðŸ˜š": "kissing-closed-eyes.json",
    "ðŸ˜˜": "kissing-heart.json",
    "ðŸ¥°": "heart-face.json",
    "ðŸ˜": "heart-eyes.json",
    "ðŸ¤©": "star-struck.json",
    "ðŸ¥³": "partying-face.json",
    "ðŸ™ƒ": "upside-down-face.json",
    "ðŸ™‚": "slightly-happy.json",
    "ðŸ¥²": "happy-cry.json",
    "ðŸ˜Š": "blush.json",
    "ðŸ˜Œ": "relieved.json",
    "ðŸ˜": "smirk.json",
    "ðŸ¤¤": "drool.json",
    "ðŸ˜‹": "yum.json",
    "ðŸ˜›": "stuck-out-tongue.json",
    "ðŸ˜": "squinting-tongue.json",
    "ðŸ˜œ": "winky-tongue.json",
    "ðŸ¤ª": "zany-face.json",
    "ðŸ¥´": "woozy.json",
    "ðŸ˜”": "pensive.json",
    "ðŸ¥º": "pleading.json",
    "ðŸ˜¬": "grimacing.json",
    "ðŸ˜‘": "expressionless.json",
    "ðŸ˜": "neutral-face.json",
    "ðŸ˜¶": "mouth-none.json",
    "ðŸ¤": "zipper-face.json",
    "ðŸ¤”": "thinking-face.json",
    "ðŸ¤«": "shushing-face.json",
    "ðŸ¤­": "smiling-eyes-with-hand-over-mouth.json",
    "ðŸ¥±": "yawn.json",
    "ðŸ¤—": "hug-face.json",
    "ðŸ˜±": "screaming.json",
    "ðŸ¤¨": "raised-eyebrow.json",
    "ðŸ§": "monocle.json",
    "ðŸ˜’": "unamused.json",
    "ðŸ™„": "rolling-eyes.json",
    "ðŸ˜¤": "triumph.json",
    "ðŸ˜ ": "angry.json",
    "ðŸ˜¡": "rage.json",
    "ðŸ¤¬": "cursing.json",
    "ðŸ˜ž": "sad.json",
    "ðŸ˜“": "sweat.json",
    "ðŸ˜Ÿ": "worried.json",
    "ðŸ˜¥": "concerned.json",
    "ðŸ˜¢": "cry.json",
    "ðŸ™": "frown.json",
    "ðŸ˜•": "slightly-frowning.json",
    "ðŸ˜°": "anxious-with-sweat.json",
    "ðŸ˜¨": "scared.json",
    "ðŸ˜§": "anguished.json",
    "ðŸ˜¦": "gasp.json",
    "ðŸ˜®": "mouth-open.json",
    "ðŸ˜¯": "surprised.json",
    "ðŸ˜²": "astonished.json",
    "ðŸ˜³": "flushed.json",
    "ðŸ˜–": "scrunched-mouth.json",
    "ðŸ˜£": "scrunched-eyes.json",
    "ðŸ˜©": "weary.json",
    "ðŸ˜«": "distraught.json",
    "ðŸ˜µ": "x-eyes.json",
    "ðŸ¥¶": "cold-face.json",
    "ðŸ¥µ": "hot-face.json",
    "ðŸ¤¢": "sick.json",
    "ðŸ¤®": "vomit.json",
    "ðŸ˜´": "sleep.json",
    "ðŸ˜ª": "sleepy.json",
    "ðŸ¤§": "sneeze.json",
    "ðŸ¤’": "thermometer-face.json",
    "ðŸ¤•": "bandage-face.json",
    "ðŸ˜·": "mask.json",
    "ðŸ¤¥": "liar.json",
    "ðŸ˜‡": "halo.json",
    "ðŸ¤ ": "cowboy.json",
    "ðŸ¤‘": "money-face.json",
    "ðŸ¤“": "nerd-face.json",
    "ðŸ˜Ž": "sunglasses-face.json",
    "ðŸ¥¸": "disguise.json",
    "ðŸ¤¡": "clown.json",
    "ðŸ’©": "poop.json",
    "ðŸ˜ˆ": "imp-smile.json",
    "ðŸ‘¿": "imp-frown.json",
    "ðŸ‘»": "ghost.json",
    "ðŸ’€": "skull.json",
    "â›„": "snowman.json",
    "ðŸŽƒ": "jack-o-lantern.json",
    "ðŸ¤–": "robot.json",
    "ðŸ‘½": "alien.json",
    "ðŸ‘¾": "alien-monster.json",
    "ðŸŒž": "sun-with-face.json",
    "ðŸŒ›": "moon-face-first-quarter.json",
    "ðŸŒœ": "moon-face-last-quarter.json",
    "ðŸ˜º": "smiley-cat.json",
    "ðŸ˜¸": "smile-cat.json",
    "ðŸ˜¹": "joy-cat.json",
    "ðŸ˜»": "heart-eyes-cat.json",
    "ðŸ˜¼": "smirk-cat.json",
    "ðŸ˜½": "kissing-cat.json",
    "ðŸ™€": "scream-cat.json",
    "ðŸ˜¿": "crying-cat-face.json",
    "ðŸ˜¾": "pouting-cat.json",
    "ðŸ™ˆ": "see-no-evil-monkey.json",
    "ðŸ™‰": "hear-no-evil-monkey.json",
    "ðŸ™Š": "speak-no-evil-monkey.json",
    "ðŸŒŸ": "glowing-star.json",
    "âœ¨": "sparkles.json",
    "âš¡": "electricity.json",
    "ðŸ’¥": "collision.json",
    "ðŸ’¯": "100.json",
    "ðŸŽ‰": "party-popper.json",
    "ðŸŽŠ": "confetti-ball.json",
    "ðŸ§¡": "orange-heart.json",
    "ðŸ’›": "yellow-heart.json",
    "ðŸ’š": "green-heart.json",
    "ðŸ’™": "blue-heart.json",
    "ðŸ’œ": "purple-heart.json",
    "ðŸ¤Ž": "brown-heart.json",
    "ðŸ–¤": "black-heart.json",
    "ðŸ¤": "white-heart.json",
    "ðŸ’˜": "cupid.json",
    "ðŸ’": "gift-heart.json",
    "ðŸ’–": "sparkling-heart.json",
    "ðŸ’—": "heart-grow.json",
    "ðŸ’“": "beating-heart.json",
    "ðŸ’ž": "revolving-hearts.json",
    "ðŸ’•": "two-hearts.json",
    "ðŸ’Œ": "love-letter.json",
    "ðŸ’Ÿ": "heart-box.json",
    "ðŸ’”": "broken-heart.json",
    "ðŸ’‹": "kiss.json",
    "ðŸ‘£": "footprints.json",
    "ðŸ«€": "anatomical-heart.json",
    "ðŸ©¸": "blood.json",
    "ðŸ¦ ": "microbe.json",
    "ðŸ‘€": "eyes.json",
    "ðŸ‘ƒ": "nose.json",
    "ðŸ‘‚": "ear.json",
    "ðŸ¦»": "hearing-aid.json",
    "ðŸ¦¶": "foot.json",
    "ðŸ¦µ": "leg.json",
    "ðŸ¦¿": "leg-mechanical.json",
    "ðŸ¦¾": "arm-mechanical.json",
    "ðŸ‘": "clap.json",
    "ðŸ‘": "thumbs-up.json",
    "ðŸ‘Ž": "thumbs-down.json",
    "ðŸ™Œ": "raising-hands.json",
    "ðŸ‘": "open-hands.json",
    "ðŸ¤²": "palms-up.json",
    "ðŸ¤œ": "fist-rightwards.json",
    "ðŸ¤›": "fist-leftwards.json",
    "âœŠ": "raised-fist.json",
    "ðŸ‘Š": "fist.json",
    "ðŸ‘‹": "wave.json",
    "ðŸ¤š": "back-hand.json",
    "âœ‹": "raised-hand.json",
    "ðŸ––": "vulcan.json",
    "ðŸ¤˜": "metal.json",
    "ðŸ¤ž": "crossed-fingers.json",
    "ðŸ¤™": "call-me-hand.json",
    "ðŸ¤Œ": "pinched-fingers.json",
    "ðŸ¤": "pinch.json",
    "ðŸ‘Œ": "ok.json",
    "ðŸ‘‰": "point-right.json",
    "ðŸ‘ˆ": "point-left.json",
    "ðŸ‘†": "point-up.json",
    "ðŸ‘‡": "point-down.json",
    "ðŸ–•": "middle-finger.json",
    "ðŸ¤³": "selfie.json",
    "ðŸ™": "folded-hands.json",
    "ðŸ’…": "nail-care.json",
    "ðŸ¤": "handshake.json",
    "ðŸ’ƒ": "dancer-woman.json",
    "ðŸ’": "bouquet.json",
    "ðŸŒ¹": "rose.json",
    "ðŸ¥€": "wilted-flower.json",
    "ðŸ‚": "fallen-leaf.json",
    "ðŸŒ±": "plant.json",
    "ðŸƒ": "leaves.json",
    "ðŸ€": "luck.json",
    "ðŸŒ‹": "volcano.json",
    "ðŸŒ…": "sunrise.json",
    "ðŸŒ„": "sunrise-over-mountains.json",
    "ðŸŒˆ": "rainbow.json",
    "ðŸŒŠ": "ocean.json",
    "ðŸ’§": "droplet.json",
    "ðŸŒ": "globe-showing-Europe-Africa.json",
    "ðŸŒŽ": "globe-showing-Americas.json",
    "ðŸŒ": "globe-showing-Asia-Australia.json",
    "ðŸ®": "cow-face.json",
    "ðŸ¦„": "unicorn.json",
    "ðŸ¦Ž": "lizard.json",
    "ðŸ‰": "dragon.json",
    "ðŸ¦–": "t-rex.json",
    "ðŸ¦•": "dinosaur.json",
    "ðŸ¢": "turtle.json",
    "ðŸŠ": "crocodile.json",
    "ðŸ": "snake.json",
    "ðŸ¸": "frog.json",
    "ðŸ‡": "rabbit.json",
    "ðŸ€": "rat.json",
    "ðŸ©": "poodle.json",
    "ðŸ•": "dog.json",
    "ðŸ¦®": "guide-dog.json",
    "ðŸ–": "pig.json",
    "ðŸŽ": "racehorse.json",
    "ðŸ‚": "ox.json",
    "ðŸ": "goat.json",
    "ðŸ¦˜": "kangaroo.json",
    "ðŸ…": "tiger.json",
    "ðŸ’": "monkey.json",
    "ðŸ¦": "gorilla.json",
    "ðŸ¦§": "orangutan.json",
    "ðŸ¦¦": "otter.json",
    "ðŸ¦‡": "bat.json",
    "ðŸ¦": "bird.json",
    "ðŸ“": "rooster.json",
    "ðŸ£": "hatching-chick.json",
    "ðŸ¤": "baby-chick.json",
    "ðŸ¥": "hatched-chick.json",
    "ðŸ¦…": "eagle.json",
    "ðŸ¦‰": "owl.json",
    "ðŸ¦š": "peacock.json",
    "ðŸ¦­": "seal.json",
    "ðŸ¦ˆ": "shark.json",
    "ðŸ¬": "dolphin.json",
    "ðŸ³": "whale.json",
    "ðŸŸ": "fish.json",
    "ðŸ¡": "blowfish.json",
    "ðŸ¦ž": "lobster.json",
    "ðŸ¦€": "crab.json",
    "ðŸ™": "octopus.json",
    "ðŸ¦‚": "scorpion.json",
    "ðŸŒ": "snail.json",
    "ðŸœ": "ant.json",
    "ðŸ¦Ÿ": "mosquito.json",
    "ðŸª³": "cockroach.json",
    "ðŸª°": "fly.json",
    "ðŸ": "bee.json",
    "ðŸž": "lady-bug.json",
    "ðŸ¦‹": "butterfly.json",
    "ðŸ›": "bug.json",
    "ðŸª±": "worm.json",
    "ðŸ¾": "paw prints.json",
    "ðŸ…": "tomato.json",
    "ðŸ³": "cooking.json",
    "ðŸŒ¯": "burrito.json",
    "ðŸ": "spaghetti.json",
    "ðŸœ": "steaming-bowl.json",
    "ðŸ¿": "popcorn.json",
    "â˜•": "hot-beverage.json",
    "ðŸ»": "clinking-beer-mugs.json",
    "ðŸ¥‚": "clinking-glasses.json",
    "ðŸ¾": "bottle-with-popping-cork.json",
    "ðŸ·": "wine-glass.json",
    "ðŸ¹": "tropical-drink.json",
    "ðŸš§": "construction.json",
    "ðŸš¨": "police-car-light.json",
    "ðŸš²": "bicycle.json",
    "ðŸš—": "automobile.json",
    "ðŸš•": "taxi.json",
    "ðŸšŒ": "bus.json",
    "â›µ": "sailboat.json",
    "ðŸ›¶": "canoe.json",
    "ðŸ›¸": "flying-saucer.json",
    "ðŸš€": "rocket.json",
    "ðŸ›«": "airplane-departure.json",
    "ðŸ›¬": "airplane-arrival.json",
    "ðŸŽ¢": "roller-coaster.json",
    "ðŸŽ¡": "ferris-wheel.json",
    "ðŸŽˆ": "balloon.json",
    "ðŸŽ‚": "birthday-cake.json",
    "ðŸŽ": "wrapped-gift.json",
    "ðŸŽ†": "fireworks.json",
    "ðŸª…": "piÃ±ata.json",
    "ðŸ¥‡": "gold-medal.json",
    "ðŸ¥ˆ": "silver-medal.json",
    "ðŸ¥‰": "bronze-medal.json",
    "ðŸ†": "trophy.json",
    "âš½": "soccer-ball.json",
    "âš¾": "baseball.json",
    "ðŸ¥Ž": "softball.json",
    "ðŸŽ¾": "tennis.json",
    "ðŸ¸": "badminton.json",
    "ðŸ¥": "lacrosse.json",
    "ðŸ": "cricket-game.json",
    "ðŸ‘": "field-hockey.json",
    "ðŸ’": "ice-hockey.json",
    "ðŸ›¼": "roller-skates.json",
    "ðŸ©°": "ballet-shoes.json",
    "ðŸ›¹": "skateboard.json",
    "â›³": "flag-in-hole.json",
    "ðŸŽ¯": "direct-hit.json",
    "ðŸ¥": "flying-disc.json",
    "ðŸªƒ": "boomerang.json",
    "ðŸª": "kite.json",
    "ðŸŽ£": "fishing-pole.json",
    "ðŸ¥‹": "martial-arts-uniform.json",
    "ðŸŽ±": "8-ball.json",
    "ðŸ“": "ping-pong.json",
    "ðŸŽ³": "bowling.json",
    "ðŸŽ²": "die.json",
    "ðŸŽ°": "slot-machine.json",
    "ðŸª„": "wand.json",
    "ðŸ“¸": "camera-flash.json",
    "ðŸŽ·": "saxophone.json",
    "ðŸŽº": "trumpet.json",
    "ðŸŽ»": "violin.json",
    "ðŸ¥": "drum.json",
    "ðŸŽ¬": "clapper.json",
    "ðŸ”‹": "battery-full.json",
    "ðŸª™": "coin.json",
    "ðŸ’¸": "money-with-wings.json",
    "ðŸ’Ž": "gem-stone.json",
    "ðŸ’¡": "light-bulb.json",
    "ðŸŽ“": "graduation-cap.json",
    "ðŸ’": "ring.json",
    "â°": "alarm-clock.json",
    "ðŸ””": "bell.json",
    "ðŸ”®": "crystal-ball.json",
    "ðŸ’£": "bomb.json",
    "ðŸª¤": "mouse-trap.json",
    "ðŸ”’": "locked.json",
    "â™ˆ": "Aries.json",
    "â™‰": "Taurus.json",
    "â™Š": "Gemini.json",
    "â™‹": "Cancer.json",
    "â™Œ": "Leo.json",
    "â™": "Virgo.json",
    "â™Ž": "Libra.json",
    "â™": "Scorpio.json",
    "â™": "Sagittarius.json",
    "â™‘": "Capricorn.json",
    "â™’": "Aquarius.json",
    "â™“": "Pisces.json",
    "â›Ž": "Ophiuchus.json",
    "â—": "exclamation.json",
    "â“": "question.json",
    "âŒ": "cross-mark.json",
    "ðŸ†˜": "sos.json",
    "ðŸ“´": "phone-off.json",
    "âœ…": "check-mark.json",
    "ðŸ†•": "new.json",
    "ðŸ†“": "free.json",
    "ðŸ†™": "up!.json",
    "ðŸ†’": "cool.json",
    "ðŸš®": "litter.json",
    "ðŸŽ¶": "musical-notes.json",
    "âž•": "plus-sign.json",
    "ðŸ": "chequered-flag.json",
    "ðŸš©": "triangular-flag.json",
    "ðŸ´": "black-flag.json",
  };

  const EmojiAnimation({super.key, required this.emoji, this.repeat = true});

  static bool supported(String emoji) {
    if (emoji.length > 4) return false;
    return animatedIcons.containsKey(emoji) || isEmoji(emoji);
  }

  @override
  Widget build(BuildContext context) {
    // List of emojis and their corresponding Lottie file names

    // Check if the emoji has a corresponding Lottie animation
    if (animatedIcons.containsKey(emoji)) {
      return Lottie.asset(
        "assets/animated_icons/${animatedIcons[emoji]}",
        repeat: repeat,
      );
    } else if (isEmoji(emoji)) {
      return Text(
        emoji,
        style: TextStyle(fontSize: 60),
      );
    } else {
      return Text(
        emoji,
        style: TextStyle(fontSize: 15),
      );
    }
  }
}

class EmojiAnimationFlying extends StatelessWidget {
  final String emoji;
  final Duration duration;
  final double startPosition;
  final int size;
  final bool repeat;

  const EmojiAnimationFlying({
    super.key,
    required this.emoji,
    required this.duration,
    required this.startPosition,
    required this.size,
    this.repeat = true,
  });

  @override
  Widget build(BuildContext context) {
    return TweenAnimationBuilder<double>(
      tween: Tween<double>(
          begin: startPosition, end: 1), // Adjust end value as needed
      duration: duration,
      curve: Curves.linearToEaseOut,
      builder: (context, value, child) {
        return Padding(
          padding: EdgeInsets.only(bottom: 20 * value),
          child: SizedBox(
            width: size + 30 * value,
            child: EmojiAnimation(emoji: emoji),
          ),
        );
      },
    );
  }
}
